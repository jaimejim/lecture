language: rust
sudo: false
cache: cargo
rust:
- stable
before_script:
- "(test -x $HOME/.cargo/bin/cargo-install-update || cargo install cargo-update)"
- (test -x $HOME/.cargo/bin/mdbook || cargo install --vers "^0.1" mdbook)
- cargo install-update -a
script:
- mdbook build && mdbook test
deploy:
  provider: pages
  skip_cleanup: true
  github-token: "$GITHUB_TOKEN"
  local_dir: "./book"
  keep_history: true
  on:
    branch: master
  api_key:
    secure: vYh4QGhGRamRZOZV2y1EERJTaFA8kOiLvQlsgcyqwg1h6nKxau0lMFKSwjk+0lGZ2n1x58ToL16j8ZPPgUdGvVyAU1sTy0+Tg+wkp07+a2VI/uhkCFxj0J3Dwe+O10fr+fq/OsZx3t1ZI0zqMIMt3FT9lCcF/FftDRdvnOlf4PzG3ME+DyUoJj5Lm3F+rSUUf/yhO8r2UY1X6aERJIOIFvrEWQrPuhsBeTvcxbNW/zAJ1Q6B9qZHN7qK8S/7KtmHa8k5zrgRiuEc3iJhCfb65YlsF7xLMF51dmdnxohtp/ifz5wtXvwO9nXXc1mfr0nCK4P7L774S7lfgRl8n2efGnBkgM4lXs5M+2IOc9X0IRAl4e/uqvOu4XLE4zcclR47f78Td2TgsN0bqiKfXulRLbU/sCFeu1Cp1ifNvPjRguAirFE/0t5q5J0/LoxAydftj2EVDSszNcmLRjIMAdgGZXgu0HBc6G1576Hkhxe5Tzu7s6rECHgchgXHlcAHopwtxUGVxA1zEDQq/N6anP1iy20t12nzXnuthYNx+pepGhXoHpXS7f4Nyred/ah3ItGWVm36AjAPBV3TgF/chGK8eBzUzxhSVXhcn2hsSIw+XLimtlHrIdoXhty7xSiBQm2FTYMn0hI6fPH5AeEft0YCSpBp1qJE/CweVlYWyLWJiWM=
