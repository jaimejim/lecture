language: rust
sudo: false
cache: cargo
rust:
- stable
before_script:
- "(test -x $HOME/.cargo/bin/cargo-install-update || cargo install cargo-update)"
- (test -x $HOME/.cargo/bin/mdbook || cargo install --vers "^0.1" mdbook)
- cargo install-update -a
script:
- mdbook build && mdbook test
deploy:
  provider: pages
  skip_cleanup: true
  token: "$GITHUB_TOKEN"
  local_dir: "./book"
  keep_history: true
  on:
    branch: master
env:
  global:
    secure: MMoSGypRPMmlDpvhnOeL08CiOg7OMpBZhzJ2onazqabTHAz3jbwXXlE+MhzxXgupFDwnYCJFylleOKS9Z+ETCKdSvRJp6tY2mSNK3J1PL4Zm0c3mrZ4mbZsaqzp0YDHWZPwMgaGdG7VE+4ffoksmofuHbAZaRcSEJlpDa2NOa0j5cBehPVhLHO3vq3hEt1Zii/EMSBgQqtlT+ThbpSL7qT/GKkPtEfkcek0r4NqythAJirvcmwSB9ZnmvNIDUPmTRXScXxESN2q5elMXDDYx39A8Rl9yoarYH8qEXApi6V+43sxk9dRcGwBk0OGJsBBhg+pitqv0HMUZbc1JLTntYBxOuqO+jVuO2oeRwwl6goeFNeOJSssTtUE45s5Npddcrsv+xF+R53UuXrlOyG9RHhN+Ta5Mgiw4j9ScGkWwFlqAg5pOx5ojo1mLdBEpOoUgiMg3UVZfF4qK4TLuRI7Ye2GxwpHhyyDvAiWdTvrqxtdK4kMin0yMvBYART3eGPVq8VXz2ohZjxNI7oxmOoNMITZVAqvC5fXcSJ8zh8DXHI+pNrYTj35Tbh2tu+b3GvZmgRUxMH+Ta4vAwCH8V1VQ+qZJgFP/j4dHspU9c+RMsckfQAZ6kzhG40E1EPHcp/libJVYYoFUIwpYkr+s/w2+hVr7HMY0bwtn/lTcwb+8+UY=
