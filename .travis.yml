language: rust
sudo: false
cache: cargo
rust:
- stable
before_script:
- "(test -x $HOME/.cargo/bin/cargo-install-update || cargo install cargo-update)"
- (test -x $HOME/.cargo/bin/mdbook || cargo install --vers "^0.1" mdbook)
- cargo install-update -a
script:
- mdbook build && mdbook test
deploy:
  provider: pages
  skip_cleanup: true
  token: "$GITHUB_TOKEN"
  local_dir: "./book"
  keep_history: true
  on:
    branch: master
env:
  global:
  - secure: MMoSGypRPMmlDpvhnOeL08CiOg7OMpBZhzJ2onazqabTHAz3jbwXXlE+MhzxXgupFDwnYCJFylleOKS9Z+ETCKdSvRJp6tY2mSNK3J1PL4Zm0c3mrZ4mbZsaqzp0YDHWZPwMgaGdG7VE+4ffoksmofuHbAZaRcSEJlpDa2NOa0j5cBehPVhLHO3vq3hEt1Zii/EMSBgQqtlT+ThbpSL7qT/GKkPtEfkcek0r4NqythAJirvcmwSB9ZnmvNIDUPmTRXScXxESN2q5elMXDDYx39A8Rl9yoarYH8qEXApi6V+43sxk9dRcGwBk0OGJsBBhg+pitqv0HMUZbc1JLTntYBxOuqO+jVuO2oeRwwl6goeFNeOJSssTtUE45s5Npddcrsv+xF+R53UuXrlOyG9RHhN+Ta5Mgiw4j9ScGkWwFlqAg5pOx5ojo1mLdBEpOoUgiMg3UVZfF4qK4TLuRI7Ye2GxwpHhyyDvAiWdTvrqxtdK4kMin0yMvBYART3eGPVq8VXz2ohZjxNI7oxmOoNMITZVAqvC5fXcSJ8zh8DXHI+pNrYTj35Tbh2tu+b3GvZmgRUxMH+Ta4vAwCH8V1VQ+qZJgFP/j4dHspU9c+RMsckfQAZ6kzhG40E1EPHcp/libJVYYoFUIwpYkr+s/w2+hVr7HMY0bwtn/lTcwb+8+UY=
  - secure: Pm2rpzYa1F8AvCgTsTz1HoZpLWmD4RbAmyjV5iGtAFeUkkKPDawdsh3W6BX/strBfk7t8vZcpf8lWEl7TLnRHJkPQdfPlY+Wb3SSpoyu9cIT+OnHhOhPfk2Rd/TK2faaxCItMGASJOwC6jvlJBTaScEZgm0r17DIb7KU5lmGdt74Eavkokx4HP1ExqQb/SLAGl/v8MjJO0uZM6NTItpBRTnEY7TvrfpqV7yiA2VhB6YapBZIIzPxEKPCmWBcJgMdVSEeI6SeM8GVlkrmgCAWWoKte5wBDYdL82n4gUu5PEH58c+8NxTB2t337ni8XroGVSII7YjA8VHdq8e1wiQZn56yp9L9MmjI8eVH+H2I6moIhtYAzPLxmNbD9Yj98ZJFK7hhlQYeG3v3GS/TRIxBTT3GqK9q9WMKRD5ps+juzy89ip+aYEojGJrFWmPFCXVp4Pb8iWMY8vng0oPS0cu9tWWx/pMeDpBxD/JBq2lsJ2PgIvvikrNsuvpLkgVI6cUN7H7I9beiQAVauLCiYKvVLPCiCa6D2QRaBvp9q6Tk7Z1RsWb+5dBdd/FTIOafz/D/2CHgSikClS95TxoE8EAnGyEYatYdOnocopjM/ASsS3dvZ4qYLTP4oGbFoq4cWo+qUzdFIq2DHRwMlRxgDiKyEo7aO2kCZ5Yeo2zmG3wE5tM=
