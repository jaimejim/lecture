language: rust
sudo: false
cache: cargo
rust:
- stable
before_script:
- "(test -x $HOME/.cargo/bin/cargo-install-update || cargo install cargo-update)"
- (test -x $HOME/.cargo/bin/mdbook || cargo install --vers "^0.1" mdbook)
- cargo install-update -a
script:
- mdbook build && mdbook test
deploy:
  provider: pages
  skip_cleanup: true
  token: "$GITHUB_TOKEN"
  local_dir: "./book"
  keep_history: true
  on:
    branch: master
env:
  global:
    secure: lXC1vzQcKodc8pAeC5bx5MgtLiigm9WV4qcqX8yzT7e52tW8N68Yjl08un8jDY3xLwrFmZY6JVYRYGNI+k0lQUsko1b276U4OpwSulHKaArKrLOv/EWbbG76YM/E4yf1/sLzrrZ9Kus/x4Xb2U2uWGmdVKMVMWtRqhZJcdEST4Syzclg0GsBlmdYnFlDFYRjRcftwpxyhtzpfZUoV9vdkiAMKczPkkkt9Cq6eEmQjZpUDfaWN7sYBqeS2vX8CcBPlucbKKLUNldmUckClN6dzKpJ+tWgoMJTbYXvRxt41D2a/1PlQ1XtM2ALP6mUOsyBuGYwEqDYSsZI3LC7omTgUBR0EUjJFDaXKpl6DaRT1md18elVeIg3pb+j2cBmdoxPEbJCq26ns7r3RY2Kpfw71BPDjvyqmisyT2MTiU0MduMJrFfj3C/dTua3ZDZ5Qk2lnedzd7NLN/KUnulpJ1HwHSK2op0TWijU5L+t9OWdI7J0GDWIMHK3q2GuBcu1PWGU1+JWnx7ZEhu6b10niXu3CkK69gF+V1ipLVMA0tXQx7CH3khaTlAbaaQiTLzI/nMwkw3WmDtU1z6Ao9hxMzGLFzy1Vb/2cx+rIP8F6Y//b3W730XSqf6Xvyp/FPC3IHQb0TswHhhyJzYVW1K+VYq+DBNMJMYHsmBlKpCCUsBae+M=
